# Image Editor Bot

## Задание на летнюю практику

**Задание для 2 курса:**

Написать бота для Telegram, обрабатывающего изображения, которые прислал пользователь. Необходима возможность:

1. Автоматически кадрировать (обрезать или увеличивать) изображение по одному из стандартных размеров (выбирается кнопками)
2. Преобразование в ч/б
3. Преобразование формата файла (выгрузка изображения в png, jpg или tiff независимо от того, что прислал пользователь)

Язык реализации — PHP, разрешается использовать любые модули, фреймворки и внешние API.

Через неделю (21 июля) — первый отчёт о том, что удалось сделать.

---

## Описание

**Image Editor Bot** — это Telegram-бот для обработки изображений прямо в чате. 
Бот поддерживает автоматическое кадрирование, преобразование в черно-белое, а также изменение формата изображения (PNG, JPG, TIFF).

---

## Возможности

- Кадрирование изображений в форматы: 1:1, 16:9, 3:4, 4:3, 9:16
- Преобразование изображений в черно-белое (Ч/Б)
- Сохранение изображений в форматах PNG, JPG, TIFF
- Поддержка изображений, отправленных как фото или как документ (в том числе TIFF)
- Работа с форматами PNG, JPG, TIFF (TIFF автоматически конвертируется для обработки)

---

## Как пользоваться

1. Отправьте фото или изображение (PNG, JPG, TIFF) боту.
2. После получения изображения бот отправит вам кнопки с возможными действиями.
3. Выберите нужное действие (кадрирование, Ч/Б, формат).
4. Получите обработанное изображение в ответ.

---

## Установка

1. Клонируйте репозиторий или скачайте код.
2. Установите зависимости через Composer:
   ```
   composer install
   ```
3. Скопируйте и настройте файл `config.php`:
   ```php
   return [
       'api_key' => 'ВАШ_ТОКЕН_ОТ_TELEGRAM',
       'bot_username' => 'ВАШ_ЮЗЕРНЕЙМ_БОТА',
       'convert_api' => 'ВАШ_КЛЮЧ_ОТ_CONVERTAPI',
   ];
   ```
   - `api_key` — токен Telegram-бота
   - `bot_username` — имя пользователя бота (например, PHPImageEditorBot)
   - `convert_api` — ключ для сервиса [ConvertAPI](https://www.convertapi.com/) (нужен для работы с TIFF)

4. Запустите бота:
   ```
   php bot.php
   ```

---

## Требования

- PHP 8.1 или выше
- Composer
- Расширения PHP: curl, fileinfo, gd
- Аккаунт Telegram и созданный бот ([инструкция](https://core.telegram.org/bots#6-botfather))
- Ключ ConvertAPI (для поддержки TIFF)

---

## Используемые библиотеки

- [devrabie/php-telegram-bot-plus](https://github.com/devrabie/php-telegram-bot-plus) — работа с Telegram Bot API
- [intervention/image](https://image.intervention.io/) — обработка изображений

---

## Автор

Виссам Аддахи  
Летняя практика 2025

---

Если возникли вопросы или нужна помощь — пишите! 